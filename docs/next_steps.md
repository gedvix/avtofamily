# Следующие шаги разработки

Документ описывает ближайшие инкременты, которые необходимо реализовать после текущего состояния репозитория. Он дополняет общую дорожную карту (`docs/roadmap.md`) и фокусируется на конкретных задачах, которые можно взять в работу уже сейчас.

## 1. Бэкенд: подготовка данных и админка
- [ ] **Справочники марок и моделей**
  - Создать модели `Make` и `Model`, настроить связи с `Car`.
  - Добавить команды импорта из CSV со списком марок/моделей.
  - Обновить админку с удобными фильтрами по марке и модели.
- [ ] **Формы ввода автомобиля**
  - Реализовать inline-формы для фотографий и особенностей.
  - Добавить валидаторы для обязательных полей (год выпуска, пробег, цена).
  - Обеспечить предпросмотр изображений и контроль «главного» фото.
- [ ] **Статусы и модерация**
  - Добавить модель статусов с историей изменений.
  - Реализовать экшены админки для смены статуса и журналирование действий.

## 2. API и интеграции
- [ ] **Фильтрация и поиск**
  - Подключить django-filter к существующим viewset’ам.
  - Добавить индексацию по полям «марка», «модель», «год», «цена», «пробег».
- [ ] **Спецификация API**
  - Сгенерировать OpenAPI-схему, добавить swagger/redoc.
  - Документировать примеры запросов и ответов для каталога автомобилей.
- [ ] **Адаптер Telegram**
  - Создать сервис отправки объявлений в канал/чат через Bot API.
  - Реализовать очередь задач (Celery + Redis) и повторные попытки.
  - Сохранять идентификатор публикации и статус в `PublicationLog`.

## 3. Публичный сайт
- [ ] **Статический прототип**
  - Создать репозиторий/папку `frontend/` на Next.js.
  - Реализовать страницы каталога (`/cars`) и карточки (`/cars/[slug]`) с SSR.
  - Настроить базовое подключение к API и отображение фильтров.
- [ ] **SEO-основа**
  - Добавить генерацию `sitemap.xml` и `robots.txt`.
  - Настроить метатеги (title, description, OpenGraph).
  - Подключить structured data Schema.org (`Vehicle` и `Product`).

## 4. Инфраструктура
- [ ] **CI на GitHub Actions**
  - Настроить workflow c запуском `pytest` и `ruff` (или `flake8`).
  - Добавить кеширование зависимостей и артефакты отчётов.
- [ ] **Докеризация**
  - Создать `Dockerfile` для backend, `docker-compose.yml` для локального запуска (web + db + redis).
  - Описать инструкции по запуску в README.
- [ ] **Мониторинг базового уровня**
  - Подключить Sentry (DSN через переменные окружения).
  - Добавить health-check endpoint и простой ping-мониторинг.

## 5. Оценка и планирование
- [ ] Приоритизировать задачи по бизнес-ценности и техническим рискам.
- [ ] Назначить ответственных за каждый блок и определить сроки (2–3-недельные итерации).
- [ ] Пересмотреть документ после выполнения первых задач и актуализировать бэклог.

> ✅ Выполнение этих шагов обеспечит минимально работоспособный backend, первый интеграционный канал, основу фронтенда и базовую инфраструктуру, после чего можно переходить к подключению остальных маркетплейсов и расширенным возможностям.
